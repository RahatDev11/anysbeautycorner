<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>কাপড়ের ব্যবসা - অ্যাডমিন প্যানেল</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-analytics.js"></script>
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCVSzQS1c7H4BLhsDF_fW8wnqUN4B35LPA",
    authDomain: "nahid-6714.firebaseapp.com",
    projectId: "nahid-6714",
    storageBucket: "nahid-6714.firebasestorage.app",
    messagingSenderId: "505741217147",
    appId: "1:505741217147:web:25ed4e9f0d00e3c4d381de",
    measurementId: "G-QZ7CTRKHCW"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
    </script>
</head>
<body class="bg-gray-100">
    <!-- হেডার -->
    <header class="bg-teal-500 text-white p-4 flex justify-between items-center relative">
        <div class="text-lg font-bold">কাপড়ের ব্যবসা</div>
        <nav class="hidden md:flex space-x-4">
            <a href="#home" class="hover:underline">হোম</a>
            <a href="#about" class="hover:underline">আমাদের সম্পর্কে</a>
            <a href="#products" class="hover:underline">পণ্য সমূহ</a>
            <a href="#" onclick="openLoginModal()" class="hover:underline" id="adminLink">এডমিন</a>
        </nav>
        <button class="bg-white text-teal-500 px-4 py-2 rounded md:hidden" onclick="toggleMenu()">মেনু</button>
        <div id="dropdownMenu" class="dropdown-menu md:hidden">
            <a href="#home" onclick="hideMenu()">হোম</a>
            <a href="#about" onclick="hideMenu()">আমাদের সম্পর্কে</a>
            <a href="#products" onclick="hideMenu()">পণ্য সমূহ</a>
            <a href="#" onclick="openLoginModal()">এডমিন</a>
        </div>
    </header>

    <!-- মেইন কন্টেন্ট -->
    <main class="p-4">
        <!-- হোম সেকশন -->
        <section id="home" class="bg-gradient-to-r from-blue-500 to-teal-500 text-white p-6 rounded-lg shadow-lg text-center mb-6">
            <h1 class="text-2xl font-bold mb-4">আমাদের কাপড়ের ব্যবসায় স্বাগতম</h1>
            <p class="mb-4">আমরা বিভিন্ন ধরনের জামা, প্যান্ট, পাঞ্জাবি ইত্যাদি সরবরাহ করি। আমাদের পণ্যসমূহ দেখুন এবং আপনার পছন্দের পণ্যটি কিনুন।</p>
            <button class="bg-white text-teal-500 px-4 py-2 rounded" onclick="scrollToProducts()">আমাদের পণ্য দেখুন</button>
        </section>

        <!-- আমাদের সম্পর্কে সেকশন -->
        <section id="about">
            <h2 class="text-xl font-bold text-center mb-2">আমাদের সম্পর্কে</h2>
            <div class="flex justify-center mb-4">
                <div class="w-16 h-1 bg-teal-500 rounded"></div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
                <p>আমরা একটি কাপড়ের ব্যবসা যা বিভিন্ন ধরনের জামা, প্যান্ট, পাঞ্জাবি ইত্যাদি সরবরাহ করে। আমাদের উদ্দেশ্য হলো আপনার পছন্দের পণ্যটি সহজে এবং সাশ্রয়ী মূল্যে সরবরাহ করা।</p>
                <p>আমরা উচ্চ মানের পণ্য এবং দ্রুত ডেলিভারি প্রদান করি।</p>
            </div>
        </section>

        <!-- পণ্য সমূহ সেকশন -->
        <section id="products">
            <h2 class="text-xl font-bold text-center mb-2">পণ্য সমূহ</h2>
            <div class="flex justify-center mb-4">
                <div class="w-16 h-1 bg-teal-500 rounded"></div>
            </div>
            <div id="productList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- প্রোডাক্ট পোস্ট করার পর এখানে প্রোডাক্টগুলো দেখানো হবে -->
            </div>
        </section>

        <!-- প্রোডাক্ট আপডেট সেকশন (এডমিনের জন্য) -->
        <section id="product-update" class="hidden">
            <h2 class="text-xl font-bold text-center mb-2">প্রোডাক্ট আপডেট</h2>
            <div class="flex justify-center mb-4">
                <div class="w-16 h-1 bg-teal-500 rounded"></div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
                <form id="productForm">
                    <div class="mb-4">
                        <label for="productName" class="block text-gray-700">পণ্যের নাম</label>
                        <input type="text" id="productName" class="w-full p-2 border border-gray-300 rounded mt-1" required>
                    </div>
                    <div class="mb-4">
                        <label for="productPrice" class="block text-gray-700">দাম</label>
                        <input type="number" id="productPrice" class="w-full p-2 border border-gray-300 rounded mt-1" required>
                    </div>
                    <div class="mb-4">
                        <label for="productImages" class="block text-gray-700">ছবি আপলোড</label>
                        <input type="file" id="productImages" class="w-full p-2 border border-gray-300 rounded mt-1" accept="image/*" multiple required>
                    </div>
                    <div class="mb-4">
                        <label for="productDescription" class="block text-gray-700">পণ্যের বিবরণ</label>
                        <textarea id="productDescription" class="w-full p-2 border border-gray-300 rounded mt-1" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="bg-teal-500 text-white px-4 py-2 rounded">পোস্ট করুন</button>
                </form>
            </div>
        </section>
    </main>

    <!-- লগইন মোডাল -->
    <div id="loginModal" class="login-modal">
        <div class="login-modal-content relative">
            <!-- লগআউট বাটন -->
            <button id="logoutButton" onclick="logout()" 
                    class="absolute top-2 right-2 bg-red-500 text-white px-3 py-1 rounded hidden">
                লগআউট
            </button>
            
            <h2 class="text-xl font-bold mb-4">লগইন</h2>
            <form id="loginForm">
                <div class="mb-4">
                    <label for="loginNumber" class="block text-gray-700">নাম্বার</label>
                    <input type="text" id="loginNumber" class="w-full p-2 border border-gray-300 rounded mt-1" required>
                </div>
                <div class="mb-4">
                    <label for="loginPassword" class="block text-gray-700">পাসওয়ার্ড</label>
                    <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded mt-1" required>
                </div>
                <button type="submit" class="bg-teal-500 text-white px-4 py-2 rounded">লগইন</button>
            </form>
        </div>
    </div>

    <!-- ফুটার -->
    <footer class="bg-teal-500 text-white p-4 text-center">
        <p>&copy; 2025 কাপড়ের ব্যবসা. সর্বস্বত্ব সংরক্ষিত.</p>
    </footer>

    <!-- স্ক্রিপ্ট -->
    <script src="script.js"></script>
        <button onclick="updateLikes()">Like</button>
<p id="likeCount">Likes: 0</p>

<script>
  // লাইক সংখ্যা আপডেট ফাংশন
  function updateLikes() {
    const likeRef = db.collection("likes").doc("website_likes");

    likeRef.get().then((doc) => {
      if (doc.exists) {
        const currentLikes = doc.data().count || 0;
        likeRef.update({
          count: currentLikes + 1
        });
      } else {
        likeRef.set({
          count: 1
        });
      }
    });
  }

  // রিয়েল-টাইমে লাইক সংখ্যা আপডেট
  db.collection("likes").doc("website_likes").onSnapshot((doc) => {
    if (doc.exists) {
      document.getElementById("likeCount").innerText = `Likes: ${doc.data().count}`;
    } else {
      document.getElementById("likeCount").innerText = "Likes: 0";
    }
  });

    function savePost(title, content) {
  db.collection("Posts").add({
    title: title,
    content: content,
    timestamp: firebase.firestore.FieldValue.serverTimestamp()
  }).then(() => {
    console.log("পোস্ট সফলভাবে সেভ হয়েছে!");
  }).catch((error) => {
    console.error("সেভ করতে ত্রুটি:", error);
  });
    }



    function fetchPosts() {
  const postsContainer = document.getElementById("postsContainer");

  db.collection("Posts").orderBy("timestamp", "desc").onSnapshot((snapshot) => {
    postsContainer.innerHTML = ""; // পুরোনো ডেটা মুছুন
    snapshot.forEach((doc) => {
      const post = doc.data();
      const postElement = document.createElement("div");
      postElement.innerHTML = `
        <h2>${post.title}</h2>
        <p>${post.content}</p>
        <small>প্রকাশিত: ${post.timestamp ? post.timestamp.toDate() : "N/A"}</small>
      `;
      postsContainer.appendChild(postElement);
    });
  });
    }

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /Posts/{document} {
      allow read: if true; // সবাই পড়তে পারবে
      allow write: if request.auth != null; // শুধুমাত্র লগইন করা ব্যবহারকারী লিখতে পারবে
    }
  }
}
    
</script>
</body>
</html>
